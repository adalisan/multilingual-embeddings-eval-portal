import os
import random
import shutil

train_frac = 0.8
random.seed(1234)

os.mkdir('DE1000_train_valid')
os.mkdir('../test/DE1000_train_valid')

for dir in ['C','E','G','M']:
    l = os.listdir('DE1000/'+dir)
    os.mkdir('DE1000_train_valid/'+dir)
    os.mkdir('../test/DE1000_train_valid/'+dir)
    random.shuffle(l)
    train_size = int(train_frac*len(l))
    train = l[:train_size]
    valid = l[train_size:]
    for f in train:
        shutil.copy('DE1000/'+dir+'/'+f,'DE1000_train_valid/'+dir+'/'+f)
    for f in valid:
        shutil.copy('DE1000/'+dir+'/'+f,'../test/DE1000_train_valid/'+dir+'/'+f)
    
os.mkdir('EN1000_train_valid')
os.mkdir('../test/EN1000_train_valid')

for dir in ['C','E','G','M']:
    l = os.listdir('EN1000/'+dir)
    os.mkdir('EN1000_train_valid/'+dir)
    os.mkdir('../test/EN1000_train_valid/'+dir)
    random.shuffle(l)
    train_size = int(train_frac*len(l))
    train = l[:train_size]
    valid = l[train_size:]
    for f in train:
        shutil.copy('EN1000/'+dir+'/'+f,'EN1000_train_valid/'+dir+'/'+f)
    for f in valid:
        shutil.copy('EN1000/'+dir+'/'+f,'../test/EN1000_train_valid/'+dir+'/'+f)
    
